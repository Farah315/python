<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Manager</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="min-h-screen bg-gradient-to-br from-purple-600 to-indigo-700 flex items-center justify-center p-4">
    <!-- Login Page -->
    <div id="login-page" class="container bg-white/95 backdrop-blur-lg rounded-2xl shadow-2xl p-8 w-full max-w-md">
        <h1 class="text-3xl font-bold text-center text-purple-800 mb-6">üîê Password Manager</h1>
        <div class="form-group mb-4">
            <label for="login-username" class="block text-purple-700 font-medium mb-2">Username</label>
            <input type="text" id="login-username" class="w-full p-3 border border-purple-300 rounded-lg focus:outline-none focus:border-purple-500" placeholder="Enter username">
        </div>
        <div class="form-group mb-6">
            <label for="login-password" class="block text-purple-700 font-medium mb-2">Password</label>
            <div class="flex gap-2">
                <input type="password" id="login-password" class="flex-1 p-3 border border-purple-300 rounded-lg focus:outline-none focus:border-purple-500" placeholder="Enter password">
                <button type="button" class="btn bg-purple-500 text-white py-2 px-4 rounded-lg hover:bg-purple-600 transition-all" onclick="app.togglePasswordVisibility('login-password')">Show</button>
            </div>
        </div>
        <button class="btn w-full bg-purple-500 text-white py-3 rounded-lg hover:bg-purple-600 hover:-translate-y-0.5 transition-all" onclick="app.login()">Login</button>
        <p class="text-center text-purple-600 mt-4">Don't have an account? <a href="#" class="underline hover:text-purple-800" onclick="app.showRegister()">Register</a></p>
    </div>

    <!-- Registration Page -->
    <div id="register-page" class="container bg-white/95 backdrop-blur-lg rounded-2xl shadow-2xl p-8 w-full max-w-md hidden">
        <h1 class="text-3xl font-bold text-center text-purple-800 mb-6">üîê Register</h1>
        <div class="form-group mb-4">
            <label for="register-username" class="block text-purple-700 font-medium mb-2">Username</label>
            <input type="text" id="register-username" class="w-full p-3 border border-purple-300 rounded-lg focus:outline-none focus:border-purple-500" placeholder="Enter username">
        </div>
        <div class="form-group mb-6">
            <label for="register-password" class="block text-purple-700 font-medium mb-2">Password</label>
            <div class="flex gap-2">
                <input type="password" id="register-password" class="flex-1 p-3 border border-purple-300 rounded-lg focus:outline-none focus:border-purple-500" placeholder="Enter password">
                <button type="button" class="btn bg-purple-500 text-white py-2 px-4 rounded-lg hover:bg-purple-600 transition-all" onclick="app.togglePasswordVisibility('register-password')">Show</button>
            </div>
        </div>
        <button class="btn w-full bg-purple-500 text-white py-3 rounded-lg hover:bg-purple-600 hover:-translate-y-0.5 transition-all" onclick="app.register()">Register</button>
        <p class="text-center text-purple-600 mt-4">Already have an account? <a href="#" class="underline hover:text-purple-800" onclick="app.showLogin()">Login</a></p>
    </div>

    <!-- Main App Page -->
    <div id="app-page" class="container bg-white/95 backdrop-blur-lg rounded-2xl shadow-2xl p-6 w-full max-w-2xl hidden">
        <div class="flex justify-between items-center mb-6">
            <h1 class="text-3xl font-bold text-purple-800">üîê Password Manager</h1>
            <button class="btn bg-purple-500 text-white py-2 px-4 rounded-lg hover:bg-purple-600 transition-all" onclick="app.logout()">Logout</button>
        </div>
        
        <div class="tabs flex justify-center gap-2 mb-6 bg-purple-100 rounded-lg p-2 flex-wrap">
            <button class="tab px-4 py-2 rounded-md text-purple-700 font-semibold hover:bg-purple-500 hover:text-white transition-all" onclick="app.switchTab('generate')" id="tab-generate">Generate Password</button>
            <button class="tab px-4 py-2 rounded-md text-purple-700 font-semibold hover:bg-purple-500 hover:text-white transition-all" onclick="app.switchTab('save')" id="tab-save">Save Password</button>
            <button class="tab px-4 py-2 rounded-md text-purple-700 font-semibold hover:bg-purple-500 hover:text-white transition-all" onclick="app.switchTab('view')" id="tab-view">View Passwords</button>
            <button class="tab px-4 py-2 rounded-md text-purple-700 font-semibold hover:bg-purple-500 hover:text-white transition-all" onclick="app.switchTab('manage')" id="tab-manage">Manage Passwords</button>
        </div>

        <div id="alerts" class="mb-4"></div>

        <div id="generate-content" class="tab-content">
            <div class="password-generator bg-purple-50 rounded-lg p-4">
                <h3 class="text-xl font-semibold text-purple-700 mb-4">Password Generator</h3>
                <div class="form-group mb-4">
                    <label for="password-length" class="block text-purple-600 font-medium mb-2">Password Length: <span id="length-value">16</span></label>
                    <input type="range" id="password-length" class="w-full h-2 bg-purple-200 rounded-lg cursor-pointer" min="8" max="50" value="16">
                </div>
                <div class="generator-options grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4">
                    <div class="checkbox-group flex items-center gap-2">
                        <input type="checkbox" id="include-uppercase" checked>
                        <label for="include-uppercase" class="text-purple-600">Uppercase Letters (A-Z)</label>
                    </div>
                    <div class="checkbox-group flex items-center gap-2">
                        <input type="checkbox" id="include-lowercase" checked>
                        <label for="include-lowercase" class="text-purple-600">Lowercase Letters (a-z)</label>
                    </div>
                    <div class="checkbox-group flex items-center gap-2">
                        <input type="checkbox" id="include-numbers" checked>
                        <label for="include-numbers" class="text-purple-600">Numbers (0-9)</label>
                    </div>
                    <div class="checkbox-group flex items-center gap-2">
                        <input type="checkbox" id="include-symbols" checked>
                        <label for="include-symbols" class="text-purple-600">Symbols (!@#$)</label>
                    </div>
                </div>
                <button class="btn w-full bg-purple-500 text-white py-2 rounded-lg hover:bg-purple-600 hover:-translate-y-0.5 transition-all" onclick="app.generatePassword()">Generate Password</button>
                <div id="generated-password" class="mt-4 hidden">
                    <div class="form-group mb-4">
                        <label class="block text-purple-600 font-medium mb-2">Generated Password:</label>
                        <div class="password-display bg-purple-100 p-2 rounded font-mono text-purple-800" id="password-output"></div>
                        <div id="password-strength-info" class="mt-2"></div>
                        <button class="btn w-full bg-purple-500 text-white py-2 rounded-lg mt-2 hover:bg-purple-600 hover:-translate-y-0.5 transition-all" onclick="app.copyPassword()">Copy Password</button>
                    </div>
                    <div class="form-group mb-4">
                        <label for="generate-account" class="block text-purple-600 font-medium mb-2">Account Name (Optional):</label>
                        <input type="text" id="generate-account" class="w-full p-2 border border-purple-300 rounded focus:outline-none focus:border-purple-500" placeholder="e.g., Gmail, Facebook">
                    </div>
                    <button class="btn w-full bg-purple-500 text-white py-2 rounded-lg hover:bg-purple-600 hover:-translate-y-0.5 transition-all" onclick="app.saveGeneratedPassword()">Save Password</button>
                </div>
            </div>
        </div>

        <div id="save-content" class="tab-content hidden">
            <div class="form-group mb-4">
                <label for="save-account" class="block text-purple-600 font-medium mb-2">Account Name:</label>
                <input type="text" id="save-account" class="w-full p-2 border border-purple-300 rounded focus:outline-none focus:border-purple-500" placeholder="e.g., Gmail, Facebook">
            </div>
            <div class="form-group mb-4">
                <label for="save-password" class="block text-purple-600 font-medium mb-2">Password:</label>
                <div class="flex gap-2">
                    <input type="password" id="save-password" class="flex-1 p-2 border border-purple-300 rounded focus:outline-none focus:border-purple-500" placeholder="Enter password">
                    <button type="button" class="btn bg-purple-500 text-white py-2 px-4 rounded-lg hover:bg-purple-600 transition-all" onclick="app.togglePasswordVisibility('save-password')">Show</button>
                </div>
            </div>
            <button class="btn w-full bg-purple-500 text-white py-2 rounded-lg hover:bg-purple-600 hover:-translate-y-0.5 transition-all" onclick="app.savePassword()">Save Password</button>
        </div>

        <div id="view-content" class="tab-content hidden">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-semibold text-purple-700">Stored Passwords</h3>
                <button class="btn bg-purple-500 text-white py-2 px-4 rounded-lg hover:bg-purple-600 transition-all" onclick="app.loadPasswords()">Refresh</button>
            </div>
            <div class="form-group mb-4">
                <input type="text" id="search-input" class="w-full p-2 border border-purple-300 rounded focus:outline-none focus:border-purple-500" placeholder="Search passwords..." onkeyup="app.searchPasswords()">
            </div>
            <div id="passwords-list" class="password-list bg-purple-50 rounded-lg p-4 max-h-96 overflow-y-auto"></div>
        </div>

        <div id="manage-content" class="tab-content hidden">
            <div class="form-group mb-4">
                <label for="manage-account" class="block text-purple-600 font-medium mb-2">Select Account:</label>
                <select id="manage-account" class="w-full p-2 border border-purple-300 rounded focus:outline-none focus:border-purple-500" onchange="app.loadAccountData()">
                    <option value="">-- Select Account --</option>
                </select>
            </div>
            <div id="edit-form" class="hidden">
                <div class="form-group mb-4">
                    <label for="edit-account" class="block text-purple-600 font-medium mb-2">New Account Name:</label>
                    <input type="text" id="edit-account" class="w-full p-2 border border-purple-300 rounded focus:outline-none focus:border-purple-500">
                </div>
                <div class="form-group mb-4">
                    <label for="edit-password" class="block text-purple-600 font-medium mb-2">New Password:</label>
                    <div class="flex gap-2">
                        <input type="password" id="edit-password" class="flex-1 p-2 border border-purple-300 rounded focus:outline-none focus:border-purple-500">
                        <button type="button" class="btn bg-purple-500 text-white py-2 px-4 rounded-lg hover:bg-purple-600 transition-all" onclick="app.togglePasswordVisibility('edit-password')">Show</button>
                    </div>
                </div>
                <div class="flex gap-2">
                    <button class="btn flex-1 bg-purple-500 text-white py-2 rounded-lg hover:bg-purple-600 hover:-translate-y-0.5 transition-all" onclick="app.updatePassword()">Update Password</button>
                    <button class="btn flex-1 bg-red-500 text-white py-2 rounded-lg hover:bg-red-600 hover:-translate-y-0.5 transition-all" onclick="app.deletePassword()">Delete Password</button>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="app.js"></script>
</body>
</html>